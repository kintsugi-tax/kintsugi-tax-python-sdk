# Transactions
(*transactions*)

## Overview

### Available Operations

* [list](#list) - Get Transactions
* [create](#create) - Create Transaction
* [get_by_external_id](#get_by_external_id) - Get Transaction By External Id
* [update](#update) - Update Transaction
* [get_by_id](#get_by_id) - Get Transaction By Id
* [get_by_filing_id](#get_by_filing_id) - Get Transactions By Filing Id
* [create_credit_note](#create_credit_note) - Create Credit Note By Transaction Id
* [update_credit_note](#update_credit_note) - Update Credit Note By Transaction Id

## list

The Get Transactions API retrieves a list of transactions with
    optional filtering, sorting, and pagination.

### Example Usage

<!-- UsageSnippet language="python" operationID="get_transactions_v1_transactions_get" method="get" path="/v1/transactions" -->
```python
from kintsugi_tax_platform_sdk import SDK, models


with SDK(
    security=models.Security(
        api_key_header="<YOUR_API_KEY_HERE>",
        custom_header="<YOUR_API_KEY_HERE>",
    ),
) as sdk:

    res = sdk.transactions.list(address_status_in="UNVERIFIED,INVALID,PARTIALLY_VERIFIED,VERIFIED,UNVERIFIABLE", order_by="date,state,customer_name,status", page=1, size=50)

    # Handle response
    print(res)

```

### Parameters

| Parameter                                                                                                                        | Type                                                                                                                             | Required                                                                                                                         | Description                                                                                                                      |
| -------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------- |
| `state_code`                                                                                                                     | *Optional[str]*                                                                                                                  | :heavy_minus_sign:                                                                                                               | Filter transactions by state code.                                                                                               |
| `transaction_type`                                                                                                               | *Optional[str]*                                                                                                                  | :heavy_minus_sign:                                                                                                               | Filter by transaction type (e.g., SALE, FULL_CREDIT_NOTE,<br/>        PARTIAL_CREDIT_NOTE, ARCHIVE etc.).                        |
| `transaction_source`                                                                                                             | *Optional[str]*                                                                                                                  | :heavy_minus_sign:                                                                                                               | Filter transactions based on the source.                                                                                         |
| `search_query`                                                                                                                   | *Optional[str]*                                                                                                                  | :heavy_minus_sign:                                                                                                               | Search for transactions using a general query<br/>        (e.g., order ID, customer name).                                       |
| `country`                                                                                                                        | List[[models.CountryCodeEnum](../../models/countrycodeenum.md)]                                                                  | :heavy_minus_sign:                                                                                                               | Filter transactions by country code<br/>        (ISO 3166-1 alpha-2 format, e.g., US).                                           |
| `state`                                                                                                                          | *Optional[str]*                                                                                                                  | :heavy_minus_sign:                                                                                                               | Filter by full state name (e.g., California).                                                                                    |
| `address_status_in`                                                                                                              | *Optional[str]*                                                                                                                  | :heavy_minus_sign:                                                                                                               | Filter by address status (e.g., UNVERIFIED, INVALID,<br/>        PARTIALLY_VERIFIED, VERIFIED, UNVERIFIABLE).                    |
| `status`                                                                                                                         | [Optional[models.TransactionStatusEnum]](../../models/transactionstatusenum.md)                                                  | :heavy_minus_sign:                                                                                                               | Filter by transaction status (e.g., PENDING, COMMITTED,<br/>        CANCELLED, FULLY_REFUNDED, PARTIALLY_REFUNDED, ARCHIVED).    |
| `filing_id`                                                                                                                      | *Optional[str]*                                                                                                                  | :heavy_minus_sign:                                                                                                               | Retrieve transactions linked to a specific filing ID.                                                                            |
| `order_by`                                                                                                                       | *Optional[str]*                                                                                                                  | :heavy_minus_sign:                                                                                                               | Sort results based on specified fields.<br/>        Prefix with - for descending order (e.g., -date for newest first).           |
| `date_gte`                                                                                                                       | *Optional[str]*                                                                                                                  | :heavy_minus_sign:                                                                                                               | Retrieve transactions with a date<br/>        greater than or equal to (YYYY-MM-DD).                                             |
| `date_lte`                                                                                                                       | *Optional[str]*                                                                                                                  | :heavy_minus_sign:                                                                                                               | Retrieve transactions with a date<br/>        less than or equal to (YYYY-MM-DD).                                                |
| `processing_status_in`                                                                                                           | *Optional[str]*                                                                                                                  | :heavy_minus_sign:                                                                                                               | Filter transactions based on processing status.<br/>        Multiple values can be passed as a comma-separated list.             |
| `marketplace`                                                                                                                    | *Optional[bool]*                                                                                                                 | :heavy_minus_sign:                                                                                                               | Filter transactions by marketplace (e.g., AMAZON, EBAY).                                                                         |
| `exempt_in`                                                                                                                      | *Optional[str]*                                                                                                                  | :heavy_minus_sign:                                                                                                               | Filter transactions by exemption status.<br/>        Multiple values can be passed as a comma-separated list (e.g., EXEMPT,TAXABLE). |
| `page`                                                                                                                           | *Optional[int]*                                                                                                                  | :heavy_minus_sign:                                                                                                               | Page number                                                                                                                      |
| `size`                                                                                                                           | *Optional[int]*                                                                                                                  | :heavy_minus_sign:                                                                                                               | Page size                                                                                                                        |
| `retries`                                                                                                                        | [Optional[utils.RetryConfig]](../../models/utils/retryconfig.md)                                                                 | :heavy_minus_sign:                                                                                                               | Configuration to override the default retry behavior of the client.                                                              |

### Response

**[models.PageTransactionRead](../../models/pagetransactionread.md)**

### Errors

| Error Type                                                    | Status Code                                                   | Content Type                                                  |
| ------------------------------------------------------------- | ------------------------------------------------------------- | ------------------------------------------------------------- |
| errors.ErrorResponse                                          | 401, 404                                                      | application/json                                              |
| errors.BackendSrcTransactionsResponsesValidationErrorResponse | 422                                                           | application/json                                              |
| errors.ErrorResponse                                          | 500                                                           | application/json                                              |
| errors.APIError                                               | 4XX, 5XX                                                      | \*/\*                                                         |

## create

Create a transaction.

### Example Usage

<!-- UsageSnippet language="python" operationID="create_transaction_v1_transactions_post" method="post" path="/v1/transactions" -->
```python
from kintsugi_tax_platform_sdk import SDK, models
from kintsugi_tax_platform_sdk.utils import parse_datetime


with SDK(
    security=models.Security(
        api_key_header="<YOUR_API_KEY_HERE>",
        custom_header="<YOUR_API_KEY_HERE>",
    ),
) as sdk:

    res = sdk.transactions.create(organization_id="orgn_YourOrgIdHere", external_id="YourUniqueOrder123", date_=parse_datetime("2024-01-15T14:30:00Z"), addresses=[
        {
            "street_1": "123 Main St",
            "city": "San Francisco",
            "state": "CA",
            "postal_code": "94107",
            "country": models.CountryCodeEnum.US,
            "type": models.AddressType.SHIP_TO,
        },
    ], transaction_items=[
        models.TransactionItemBuilder(
            organization_id="orgn_YourOrgIdHere",
            date_=parse_datetime("2024-01-15T14:30:00Z"),
            external_product_id="SKU-ABC",
            product="Example Widget",
            quantity=2,
            amount=50,
        ),
    ], customer={
        "name": "John Doe",
        "external_id": "Cust456",
        "organization_id": "orgn_YourOrgIdHere",
    }, type_=models.TransactionTypeEnum.SALE, total_amount=0, marketplace=False, total_tax_amount_imported=0, tax_rate_imported=0, total_tax_amount_calculated=0, tax_rate_calculated=0, total_tax_liability_amount=0, taxable_amount=0, currency=models.CurrencyEnum.USD, locked=False, source=models.SourceEnum.API)

    # Handle response
    print(res)

```

### Parameters

| Parameter                                                                                                                                                                                                         | Type                                                                                                                                                                                                              | Required                                                                                                                                                                                                          | Description                                                                                                                                                                                                       |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `organization_id`                                                                                                                                                                                                 | *str*                                                                                                                                                                                                             | :heavy_check_mark:                                                                                                                                                                                                | Unique identifier of the organization.                                                                                                                                                                            |
| `external_id`                                                                                                                                                                                                     | *str*                                                                                                                                                                                                             | :heavy_check_mark:                                                                                                                                                                                                | External identifier of the transaction.                                                                                                                                                                           |
| `date_`                                                                                                                                                                                                           | [date](https://docs.python.org/3/library/datetime.html#date-objects)                                                                                                                                              | :heavy_check_mark:                                                                                                                                                                                                | Transaction date and time                                                                                                                                                                                         |
| `addresses`                                                                                                                                                                                                       | List[[models.TransactionAddressPublic](../../models/transactionaddresspublic.md)]                                                                                                                                 | :heavy_check_mark:                                                                                                                                                                                                | N/A                                                                                                                                                                                                               |
| `transaction_items`                                                                                                                                                                                               | List[[models.TransactionItemBuilder](../../models/transactionitembuilder.md)]                                                                                                                                     | :heavy_check_mark:                                                                                                                                                                                                | N/A                                                                                                                                                                                                               |
| `customer`                                                                                                                                                                                                        | [models.CustomerBaseBase](../../models/customerbasebase.md)                                                                                                                                                       | :heavy_check_mark:                                                                                                                                                                                                | N/A                                                                                                                                                                                                               |
| `type`                                                                                                                                                                                                            | [models.TransactionTypeEnum](../../models/transactiontypeenum.md)                                                                                                                                                 | :heavy_check_mark:                                                                                                                                                                                                | N/A                                                                                                                                                                                                               |
| `requires_exemption`                                                                                                                                                                                              | [Optional[models.ExemptionRequired]](../../models/exemptionrequired.md)                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                | N/A                                                                                                                                                                                                               |
| `shop_date`                                                                                                                                                                                                       | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Transaction date in the shop's local timezone                                                                                                                                                                     |
| `shop_date_tz`                                                                                                                                                                                                    | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Timezone of the shop                                                                                                                                                                                              |
| `description`                                                                                                                                                                                                     | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Description of the transaction.                                                                                                                                                                                   |
| `refund_status`                                                                                                                                                                                                   | [Optional[models.TransactionRefundStatus]](../../models/transactionrefundstatus.md)                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                | Shopify has 2 order statuses for refund case: refunded and partially_refunded<br/>If the given order has different status from these 2, we will set the<br/>transaction's refund_status to PARTIALLY_REFUNDED by default. |
| `total_amount`                                                                                                                                                                                                    | *Optional[float]*                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                | Total amount of the transaction.                                                                                                                                                                                  |
| `customer_id`                                                                                                                                                                                                     | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Unique identifier of the customer.                                                                                                                                                                                |
| `marketplace`                                                                                                                                                                                                     | *Optional[bool]*                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                | Indicates if transaction is marketplace-based.                                                                                                                                                                    |
| `exempt`                                                                                                                                                                                                          | [Optional[models.TransactionExemptStatusEnum]](../../models/transactionexemptstatusenum.md)                                                                                                                       | :heavy_minus_sign:                                                                                                                                                                                                | Based on transaction item exempt status.<br/>NOT EXEMPT: None of the items are NOT EXEMPT<br/>PARTIALLY EXEMPT: At least some of the items are NOT EXEMPT<br/>FULLY_EXEMPT: All items sold in the transaction are EXEMPT |
| `exemptions`                                                                                                                                                                                                      | List[[models.Exemption](../../models/exemption.md)]                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                | List of exemptions applied (if any).                                                                                                                                                                              |
| `related_to`                                                                                                                                                                                                      | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Related transaction identifier.                                                                                                                                                                                   |
| `secondary_external_id`                                                                                                                                                                                           | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Secondary External Identifier.                                                                                                                                                                                    |
| `secondary_source`                                                                                                                                                                                                | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Secondary source information                                                                                                                                                                                      |
| `external_friendly_id`                                                                                                                                                                                            | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Friendly identifier of the original item.                                                                                                                                                                         |
| `total_tax_amount_imported`                                                                                                                                                                                       | *Optional[float]*                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                | Imported tax amount.                                                                                                                                                                                              |
| `tax_rate_imported`                                                                                                                                                                                               | *Optional[float]*                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                | Imported tax rate.                                                                                                                                                                                                |
| `total_tax_amount_calculated`                                                                                                                                                                                     | *Optional[float]*                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                | Calculated tax amount.                                                                                                                                                                                            |
| `tax_rate_calculated`                                                                                                                                                                                             | *Optional[float]*                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                | Calculated tax rate.                                                                                                                                                                                              |
| `total_tax_liability_amount`                                                                                                                                                                                      | *Optional[float]*                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                | Total tax liability amount.                                                                                                                                                                                       |
| `tax_liability_source`                                                                                                                                                                                            | [Optional[models.TaxLiabilitySourceEnum]](../../models/taxliabilitysourceenum.md)                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                | N/A                                                                                                                                                                                                               |
| `taxable_amount`                                                                                                                                                                                                  | *Optional[float]*                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                | Taxable amount.                                                                                                                                                                                                   |
| `currency`                                                                                                                                                                                                        | [Optional[models.CurrencyEnum]](../../models/currencyenum.md)                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                | N/A                                                                                                                                                                                                               |
| `locked`                                                                                                                                                                                                          | *Optional[bool]*                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                | Transaction lock status.                                                                                                                                                                                          |
| `source`                                                                                                                                                                                                          | [Optional[models.SourceEnum]](../../models/sourceenum.md)                                                                                                                                                         | :heavy_minus_sign:                                                                                                                                                                                                | N/A                                                                                                                                                                                                               |
| `connection_id`                                                                                                                                                                                                   | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Connection Identifier                                                                                                                                                                                             |
| `filing_id`                                                                                                                                                                                                       | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Filing identifier.                                                                                                                                                                                                |
| `city`                                                                                                                                                                                                            | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | City of the transaction address.                                                                                                                                                                                  |
| `county`                                                                                                                                                                                                          | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | County of the transaction address.                                                                                                                                                                                |
| `state`                                                                                                                                                                                                           | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | State of the transaction address.                                                                                                                                                                                 |
| `country`                                                                                                                                                                                                         | [Optional[models.CountryCodeEnum]](../../models/countrycodeenum.md)                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                | N/A                                                                                                                                                                                                               |
| `postal_code`                                                                                                                                                                                                     | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Postal code of the transaction.                                                                                                                                                                                   |
| `tax_id`                                                                                                                                                                                                          | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Tax ID associated with the transaction                                                                                                                                                                            |
| `retries`                                                                                                                                                                                                         | [Optional[utils.RetryConfig]](../../models/utils/retryconfig.md)                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                | Configuration to override the default retry behavior of the client.                                                                                                                                               |

### Response

**[models.TransactionRead](../../models/transactionread.md)**

### Errors

| Error Type                                                    | Status Code                                                   | Content Type                                                  |
| ------------------------------------------------------------- | ------------------------------------------------------------- | ------------------------------------------------------------- |
| errors.ErrorResponse                                          | 400, 401                                                      | application/json                                              |
| errors.BackendSrcTransactionsResponsesValidationErrorResponse | 422                                                           | application/json                                              |
| errors.ErrorResponse                                          | 500                                                           | application/json                                              |
| errors.APIError                                               | 4XX, 5XX                                                      | \*/\*                                                         |

## get_by_external_id

Retrieves a specific transaction based on its external ID.
    This allows users to fetch transaction details using an identifier from an external system.

### Example Usage

<!-- UsageSnippet language="python" operationID="get_transaction_by_external_id_v1_transactions_external__external_id__get" method="get" path="/v1/transactions/external/{external_id}" -->
```python
from kintsugi_tax_platform_sdk import SDK, models


with SDK(
    security=models.Security(
        api_key_header="<YOUR_API_KEY_HERE>",
        custom_header="<YOUR_API_KEY_HERE>",
    ),
) as sdk:

    res = sdk.transactions.get_by_external_id(external_id="<id>")

    # Handle response
    print(res)

```

### Parameters

| Parameter                                                           | Type                                                                | Required                                                            | Description                                                         |
| ------------------------------------------------------------------- | ------------------------------------------------------------------- | ------------------------------------------------------------------- | ------------------------------------------------------------------- |
| `external_id`                                                       | *str*                                                               | :heavy_check_mark:                                                  | The unique external identifier of the transaction.                  |
| `retries`                                                           | [Optional[utils.RetryConfig]](../../models/utils/retryconfig.md)    | :heavy_minus_sign:                                                  | Configuration to override the default retry behavior of the client. |

### Response

**[models.TransactionRead](../../models/transactionread.md)**

### Errors

| Error Type                                                    | Status Code                                                   | Content Type                                                  |
| ------------------------------------------------------------- | ------------------------------------------------------------- | ------------------------------------------------------------- |
| errors.ErrorResponse                                          | 401, 404                                                      | application/json                                              |
| errors.BackendSrcTransactionsResponsesValidationErrorResponse | 422                                                           | application/json                                              |
| errors.ErrorResponse                                          | 500                                                           | application/json                                              |
| errors.APIError                                               | 4XX, 5XX                                                      | \*/\*                                                         |

## update

Update a specific transaction by its ID.

### Example Usage

<!-- UsageSnippet language="python" operationID="update_transaction_v1_transactions__transaction_id__put" method="put" path="/v1/transactions/{transaction_id}" -->
```python
from kintsugi_tax_platform_sdk import SDK, models
from kintsugi_tax_platform_sdk.utils import parse_datetime


with SDK(
    security=models.Security(
        api_key_header="<YOUR_API_KEY_HERE>",
        custom_header="<YOUR_API_KEY_HERE>",
    ),
) as sdk:

    res = sdk.transactions.update(transaction_id="<id>", organization_id="orgn_argaLQwMy2fJc", external_id="EXT12345", date_=parse_datetime("2025-04-02T17:36:59.814Z"), addresses=[
        {
            "type": models.AddressType.BILL_TO,
        },
    ], transaction_items=[
        models.TransactionItemCreateUpdate(
            organization_id="orgn_argaLQwMy2fJc",
            date_=parse_datetime("2025-04-02T17:36:59.814Z"),
            external_product_id="1186DUMMYITEM",
        ),
    ], customer={}, total_amount=0, marketplace=False, total_tax_amount_imported=0, tax_rate_imported=0, total_tax_amount_calculated=0, tax_rate_calculated=0, total_tax_liability_amount=0, taxable_amount=0, locked=False)

    # Handle response
    print(res)

```

### Parameters

| Parameter                                                                                                                                                                                                         | Type                                                                                                                                                                                                              | Required                                                                                                                                                                                                          | Description                                                                                                                                                                                                       |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `transaction_id`                                                                                                                                                                                                  | *str*                                                                                                                                                                                                             | :heavy_check_mark:                                                                                                                                                                                                | N/A                                                                                                                                                                                                               |
| `organization_id`                                                                                                                                                                                                 | *str*                                                                                                                                                                                                             | :heavy_check_mark:                                                                                                                                                                                                | Unique identifier of the organization.                                                                                                                                                                            |
| `external_id`                                                                                                                                                                                                     | *str*                                                                                                                                                                                                             | :heavy_check_mark:                                                                                                                                                                                                | External identifier of the transaction.                                                                                                                                                                           |
| `date_`                                                                                                                                                                                                           | [date](https://docs.python.org/3/library/datetime.html#date-objects)                                                                                                                                              | :heavy_check_mark:                                                                                                                                                                                                | Transaction date and time                                                                                                                                                                                         |
| `addresses`                                                                                                                                                                                                       | List[[models.TransactionAddressBuilder](../../models/transactionaddressbuilder.md)]                                                                                                                               | :heavy_check_mark:                                                                                                                                                                                                | N/A                                                                                                                                                                                                               |
| `transaction_items`                                                                                                                                                                                               | List[[models.TransactionItemCreateUpdate](../../models/transactionitemcreateupdate.md)]                                                                                                                           | :heavy_check_mark:                                                                                                                                                                                                | N/A                                                                                                                                                                                                               |
| `customer`                                                                                                                                                                                                        | [models.CustomerUpdate](../../models/customerupdate.md)                                                                                                                                                           | :heavy_check_mark:                                                                                                                                                                                                | N/A                                                                                                                                                                                                               |
| `requires_exemption`                                                                                                                                                                                              | [Optional[models.ExemptionRequired]](../../models/exemptionrequired.md)                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                | N/A                                                                                                                                                                                                               |
| `shop_date`                                                                                                                                                                                                       | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Transaction date in the shop's local timezone                                                                                                                                                                     |
| `shop_date_tz`                                                                                                                                                                                                    | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Timezone of the shop                                                                                                                                                                                              |
| `description`                                                                                                                                                                                                     | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Description of the transaction.                                                                                                                                                                                   |
| `refund_status`                                                                                                                                                                                                   | [Optional[models.TransactionRefundStatus]](../../models/transactionrefundstatus.md)                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                | Shopify has 2 order statuses for refund case: refunded and partially_refunded<br/>If the given order has different status from these 2, we will set the<br/>transaction's refund_status to PARTIALLY_REFUNDED by default. |
| `total_amount`                                                                                                                                                                                                    | *Optional[float]*                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                | Total amount of the transaction.                                                                                                                                                                                  |
| `customer_id`                                                                                                                                                                                                     | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Unique identifier of the customer.                                                                                                                                                                                |
| `marketplace`                                                                                                                                                                                                     | *Optional[bool]*                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                | Indicates if transaction is marketplace-based.                                                                                                                                                                    |
| `exempt`                                                                                                                                                                                                          | [Optional[models.TransactionExemptStatusEnum]](../../models/transactionexemptstatusenum.md)                                                                                                                       | :heavy_minus_sign:                                                                                                                                                                                                | Based on transaction item exempt status.<br/>NOT EXEMPT: None of the items are NOT EXEMPT<br/>PARTIALLY EXEMPT: At least some of the items are NOT EXEMPT<br/>FULLY_EXEMPT: All items sold in the transaction are EXEMPT |
| `exemptions`                                                                                                                                                                                                      | List[[models.Exemption](../../models/exemption.md)]                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                | List of exemptions applied (if any).                                                                                                                                                                              |
| `related_to`                                                                                                                                                                                                      | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Related transaction identifier.                                                                                                                                                                                   |
| `secondary_external_id`                                                                                                                                                                                           | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Secondary External Identifier.                                                                                                                                                                                    |
| `secondary_source`                                                                                                                                                                                                | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Secondary source information                                                                                                                                                                                      |
| `external_friendly_id`                                                                                                                                                                                            | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Friendly identifier of the original item.                                                                                                                                                                         |
| `total_tax_amount_imported`                                                                                                                                                                                       | *Optional[float]*                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                | Imported tax amount.                                                                                                                                                                                              |
| `tax_rate_imported`                                                                                                                                                                                               | *Optional[float]*                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                | Imported tax rate.                                                                                                                                                                                                |
| `total_tax_amount_calculated`                                                                                                                                                                                     | *Optional[float]*                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                | Calculated tax amount.                                                                                                                                                                                            |
| `tax_rate_calculated`                                                                                                                                                                                             | *Optional[float]*                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                | Calculated tax rate.                                                                                                                                                                                              |
| `total_tax_liability_amount`                                                                                                                                                                                      | *Optional[float]*                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                | Total tax liability amount.                                                                                                                                                                                       |
| `tax_liability_source`                                                                                                                                                                                            | [Optional[models.TaxLiabilitySourceEnum]](../../models/taxliabilitysourceenum.md)                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                | N/A                                                                                                                                                                                                               |
| `taxable_amount`                                                                                                                                                                                                  | *Optional[float]*                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                | Taxable amount.                                                                                                                                                                                                   |
| `currency`                                                                                                                                                                                                        | [Optional[models.CurrencyEnum]](../../models/currencyenum.md)                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                | N/A                                                                                                                                                                                                               |
| `locked`                                                                                                                                                                                                          | *Optional[bool]*                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                | Transaction lock status.                                                                                                                                                                                          |
| `source`                                                                                                                                                                                                          | [Optional[models.SourceEnum]](../../models/sourceenum.md)                                                                                                                                                         | :heavy_minus_sign:                                                                                                                                                                                                | N/A                                                                                                                                                                                                               |
| `connection_id`                                                                                                                                                                                                   | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Connection Identifier                                                                                                                                                                                             |
| `filing_id`                                                                                                                                                                                                       | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Filing identifier.                                                                                                                                                                                                |
| `city`                                                                                                                                                                                                            | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | City of the transaction address.                                                                                                                                                                                  |
| `county`                                                                                                                                                                                                          | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | County of the transaction address.                                                                                                                                                                                |
| `state`                                                                                                                                                                                                           | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | State of the transaction address.                                                                                                                                                                                 |
| `country`                                                                                                                                                                                                         | [Optional[models.CountryCodeEnum]](../../models/countrycodeenum.md)                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                | N/A                                                                                                                                                                                                               |
| `postal_code`                                                                                                                                                                                                     | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Postal code of the transaction.                                                                                                                                                                                   |
| `tax_id`                                                                                                                                                                                                          | *Optional[str]*                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                | Tax ID associated with the transaction                                                                                                                                                                            |
| `retries`                                                                                                                                                                                                         | [Optional[utils.RetryConfig]](../../models/utils/retryconfig.md)                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                | Configuration to override the default retry behavior of the client.                                                                                                                                               |

### Response

**[models.TransactionRead](../../models/transactionread.md)**

### Errors

| Error Type                 | Status Code                | Content Type               |
| -------------------------- | -------------------------- | -------------------------- |
| errors.HTTPValidationError | 422                        | application/json           |
| errors.APIError            | 4XX, 5XX                   | \*/\*                      |

## get_by_id

The Get Transaction By Id API retrieves detailed information
    about a specific transaction by providing its unique transaction ID.

### Example Usage

<!-- UsageSnippet language="python" operationID="get_transaction_by_id_v1_transactions__transaction_id__get" method="get" path="/v1/transactions/{transaction_id}" -->
```python
from kintsugi_tax_platform_sdk import SDK, models


with SDK(
    security=models.Security(
        api_key_header="<YOUR_API_KEY_HERE>",
        custom_header="<YOUR_API_KEY_HERE>",
    ),
) as sdk:

    res = sdk.transactions.get_by_id(transaction_id="<id>")

    # Handle response
    print(res)

```

### Parameters

| Parameter                                                           | Type                                                                | Required                                                            | Description                                                         |
| ------------------------------------------------------------------- | ------------------------------------------------------------------- | ------------------------------------------------------------------- | ------------------------------------------------------------------- |
| `transaction_id`                                                    | *str*                                                               | :heavy_check_mark:                                                  | The unique identifier of the transaction to retrieve.               |
| `retries`                                                           | [Optional[utils.RetryConfig]](../../models/utils/retryconfig.md)    | :heavy_minus_sign:                                                  | Configuration to override the default retry behavior of the client. |

### Response

**[models.TransactionRead](../../models/transactionread.md)**

### Errors

| Error Type                                                    | Status Code                                                   | Content Type                                                  |
| ------------------------------------------------------------- | ------------------------------------------------------------- | ------------------------------------------------------------- |
| errors.ErrorResponse                                          | 401, 404                                                      | application/json                                              |
| errors.BackendSrcTransactionsResponsesValidationErrorResponse | 422                                                           | application/json                                              |
| errors.ErrorResponse                                          | 500                                                           | application/json                                              |
| errors.APIError                                               | 4XX, 5XX                                                      | \*/\*                                                         |

## get_by_filing_id

Retrieve transactions by filing ID.

### Example Usage

<!-- UsageSnippet language="python" operationID="get_transactions_by_filing_id_v1_transactions_filings__filing_id__get" method="get" path="/v1/transactions/filings/{filing_id}" -->
```python
from kintsugi_tax_platform_sdk import SDK, models


with SDK(
    security=models.Security(
        api_key_header="<YOUR_API_KEY_HERE>",
        custom_header="<YOUR_API_KEY_HERE>",
    ),
) as sdk:

    res = sdk.transactions.get_by_filing_id(filing_id="<id>")

    # Handle response
    print(res)

```

### Parameters

| Parameter                                                                                     | Type                                                                                          | Required                                                                                      | Description                                                                                   |
| --------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------- |
| `filing_id`                                                                                   | *str*                                                                                         | :heavy_check_mark:                                                                            | The unique identifier of the filing<br/>        whose transactions you wish to retrieve.<br/>         |
| `retries`                                                                                     | [Optional[utils.RetryConfig]](../../models/utils/retryconfig.md)                              | :heavy_minus_sign:                                                                            | Configuration to override the default retry behavior of the client.                           |

### Response

**[List[models.TransactionRead]](../../models/.md)**

### Errors

| Error Type                                                    | Status Code                                                   | Content Type                                                  |
| ------------------------------------------------------------- | ------------------------------------------------------------- | ------------------------------------------------------------- |
| errors.ErrorResponse                                          | 401                                                           | application/json                                              |
| errors.BackendSrcTransactionsResponsesValidationErrorResponse | 422                                                           | application/json                                              |
| errors.ErrorResponse                                          | 500                                                           | application/json                                              |
| errors.APIError                                               | 4XX, 5XX                                                      | \*/\*                                                         |

## create_credit_note

Create a new credit note for a specific transaction.

### Example Usage

<!-- UsageSnippet language="python" operationID="POST_create_credit_note_by_transaction_id" method="post" path="/v1/transactions/{original_transaction_id}/credit_notes" -->
```python
from kintsugi_tax_platform_sdk import SDK, models
from kintsugi_tax_platform_sdk.utils import parse_datetime


with SDK(
    security=models.Security(
        api_key_header="<YOUR_API_KEY_HERE>",
        custom_header="<YOUR_API_KEY_HERE>",
    ),
) as sdk:

    res = sdk.transactions.create_credit_note(original_transaction_id="<id>", external_id="CN-12345", date_=parse_datetime("2024-10-27T14:30:00Z"), status=models.Status.PENDING, currency=models.CurrencyEnum.USD, transaction_items=[
        {
            "external_id": "ITEM-1",
            "date_": parse_datetime("2024-10-27T14:30:00Z"),
            "external_product_id": "PROD-ABC",
            "quantity": 1,
            "amount": 50,
        },
    ], description="Refund for damaged product", total_amount=50, marketplace=False)

    # Handle response
    print(res)

```

### Parameters

| Parameter                                                                                                                                              | Type                                                                                                                                                   | Required                                                                                                                                               | Description                                                                                                                                            |
| ------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `original_transaction_id`                                                                                                                              | *str*                                                                                                                                                  | :heavy_check_mark:                                                                                                                                     | N/A                                                                                                                                                    |
| `external_id`                                                                                                                                          | *str*                                                                                                                                                  | :heavy_check_mark:                                                                                                                                     | Unique identifier for the credit note in the external system.                                                                                          |
| `date_`                                                                                                                                                | [date](https://docs.python.org/3/library/datetime.html#date-objects)                                                                                   | :heavy_check_mark:                                                                                                                                     | Date when the credit note was issued or created.                                                                                                       |
| `status`                                                                                                                                               | [models.Status](../../models/status.md)                                                                                                                | :heavy_check_mark:                                                                                                                                     | Current state of the credit note in its lifecycle.                                                                                                     |
| `currency`                                                                                                                                             | [models.CurrencyEnum](../../models/currencyenum.md)                                                                                                    | :heavy_check_mark:                                                                                                                                     | N/A                                                                                                                                                    |
| `transaction_items`                                                                                                                                    | List[[models.CreditNoteItemCreateUpdate](../../models/creditnoteitemcreateupdate.md)]                                                                  | :heavy_check_mark:                                                                                                                                     | Detailed list of individual items included in this credit note.                                                                                        |
| `description`                                                                                                                                          | *Optional[str]*                                                                                                                                        | :heavy_minus_sign:                                                                                                                                     | Brief explanation or reason for issuing the credit note.                                                                                               |
| `total_amount`                                                                                                                                         | *Optional[float]*                                                                                                                                      | :heavy_minus_sign:                                                                                                                                     | Total monetary value of the credit note, including all items and taxes.                                                                                |
| `marketplace`                                                                                                                                          | *Optional[bool]*                                                                                                                                       | :heavy_minus_sign:                                                                                                                                     | Indicates whether this credit note is associated with a marketplace transaction.                                                                       |
| `tax_amount_imported`                                                                                                                                  | *Optional[float]*                                                                                                                                      | :heavy_minus_sign:                                                                                                                                     | Pre-calculated total tax amount for the entire credit note, if provided by the external system.                                                        |
| `tax_rate_imported`                                                                                                                                    | *Optional[float]*                                                                                                                                      | :heavy_minus_sign:                                                                                                                                     | Pre-calculated overall tax rate for the credit note, if provided by the external system.                                                               |
| `taxable_amount`                                                                                                                                       | *Optional[float]*                                                                                                                                      | :heavy_minus_sign:                                                                                                                                     | Total portion of the credit note amount subject to taxation.                                                                                           |
| `addresses`                                                                                                                                            | List[[models.TransactionAddressBuilder](../../models/transactionaddressbuilder.md)]                                                                    | :heavy_minus_sign:                                                                                                                                     | A list of TransactionAddressBuilder objects or None if no addresses are provided. This field represents the addresses associated with the transaction. |
| `retries`                                                                                                                                              | [Optional[utils.RetryConfig]](../../models/utils/retryconfig.md)                                                                                       | :heavy_minus_sign:                                                                                                                                     | Configuration to override the default retry behavior of the client.                                                                                    |

### Response

**[models.TransactionRead](../../models/transactionread.md)**

### Errors

| Error Type                 | Status Code                | Content Type               |
| -------------------------- | -------------------------- | -------------------------- |
| errors.HTTPValidationError | 422                        | application/json           |
| errors.APIError            | 4XX, 5XX                   | \*/\*                      |

## update_credit_note

Update an existing credit note for a specific transaction.

### Example Usage

<!-- UsageSnippet language="python" operationID="PUT_update_credit_note_by_transaction_id" method="put" path="/v1/transactions/{original_transaction_id}/credit_notes/{credit_note_id}" -->
```python
from kintsugi_tax_platform_sdk import SDK, models
from kintsugi_tax_platform_sdk.utils import parse_datetime


with SDK(
    security=models.Security(
        api_key_header="<YOUR_API_KEY_HERE>",
        custom_header="<YOUR_API_KEY_HERE>",
    ),
) as sdk:

    res = sdk.transactions.update_credit_note(original_transaction_id="<id>", credit_note_id="<id>", external_id="<id>", date_=parse_datetime("2023-07-25T11:01:44.924Z"), status=models.Status.CANCELLED, currency=models.CurrencyEnum.SPL, transaction_items=[
        {
            "external_id": "<id>",
            "date_": parse_datetime("2024-09-15T23:01:02.880Z"),
            "external_product_id": "<id>",
            "quantity": 1,
            "amount": 0,
        },
    ], total_amount=0, marketplace=False)

    # Handle response
    print(res)

```

### Parameters

| Parameter                                                                                                                                              | Type                                                                                                                                                   | Required                                                                                                                                               | Description                                                                                                                                            |
| ------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `original_transaction_id`                                                                                                                              | *str*                                                                                                                                                  | :heavy_check_mark:                                                                                                                                     | N/A                                                                                                                                                    |
| `credit_note_id`                                                                                                                                       | *str*                                                                                                                                                  | :heavy_check_mark:                                                                                                                                     | N/A                                                                                                                                                    |
| `external_id`                                                                                                                                          | *str*                                                                                                                                                  | :heavy_check_mark:                                                                                                                                     | Unique identifier for the credit note in the external system.                                                                                          |
| `date_`                                                                                                                                                | [date](https://docs.python.org/3/library/datetime.html#date-objects)                                                                                   | :heavy_check_mark:                                                                                                                                     | Date when the credit note was issued or created.                                                                                                       |
| `status`                                                                                                                                               | [models.Status](../../models/status.md)                                                                                                                | :heavy_check_mark:                                                                                                                                     | Current state of the credit note in its lifecycle.                                                                                                     |
| `currency`                                                                                                                                             | [models.CurrencyEnum](../../models/currencyenum.md)                                                                                                    | :heavy_check_mark:                                                                                                                                     | N/A                                                                                                                                                    |
| `transaction_items`                                                                                                                                    | List[[models.CreditNoteItemCreateUpdate](../../models/creditnoteitemcreateupdate.md)]                                                                  | :heavy_check_mark:                                                                                                                                     | Detailed list of individual items included in this credit note.                                                                                        |
| `description`                                                                                                                                          | *Optional[str]*                                                                                                                                        | :heavy_minus_sign:                                                                                                                                     | Brief explanation or reason for issuing the credit note.                                                                                               |
| `total_amount`                                                                                                                                         | *Optional[float]*                                                                                                                                      | :heavy_minus_sign:                                                                                                                                     | Total monetary value of the credit note, including all items and taxes.                                                                                |
| `marketplace`                                                                                                                                          | *Optional[bool]*                                                                                                                                       | :heavy_minus_sign:                                                                                                                                     | Indicates whether this credit note is associated with a marketplace transaction.                                                                       |
| `tax_amount_imported`                                                                                                                                  | *Optional[float]*                                                                                                                                      | :heavy_minus_sign:                                                                                                                                     | Pre-calculated total tax amount for the entire credit note, if provided by the external system.                                                        |
| `tax_rate_imported`                                                                                                                                    | *Optional[float]*                                                                                                                                      | :heavy_minus_sign:                                                                                                                                     | Pre-calculated overall tax rate for the credit note, if provided by the external system.                                                               |
| `taxable_amount`                                                                                                                                       | *Optional[float]*                                                                                                                                      | :heavy_minus_sign:                                                                                                                                     | Total portion of the credit note amount subject to taxation.                                                                                           |
| `addresses`                                                                                                                                            | List[[models.TransactionAddressBuilder](../../models/transactionaddressbuilder.md)]                                                                    | :heavy_minus_sign:                                                                                                                                     | A list of TransactionAddressBuilder objects or None if no addresses are provided. This field represents the addresses associated with the transaction. |
| `retries`                                                                                                                                              | [Optional[utils.RetryConfig]](../../models/utils/retryconfig.md)                                                                                       | :heavy_minus_sign:                                                                                                                                     | Configuration to override the default retry behavior of the client.                                                                                    |

### Response

**[Any](../../models/.md)**

### Errors

| Error Type                 | Status Code                | Content Type               |
| -------------------------- | -------------------------- | -------------------------- |
| errors.HTTPValidationError | 422                        | application/json           |
| errors.APIError            | 4XX, 5XX                   | \*/\*                      |